# Backup Configuration
# Simple, focused backup strategy for changing data only

# What to backup (the data that actually changes)
BACKUP_TARGETS=(
    "mysql:full:daily"      # Full database backup
    "mysql:binlog:15min"    # Transaction logs
    "home:archive:daily"    # User data
    "logs:archive:daily"    # Compliance logs
)

# Local settings
MYSQL_BACKUP_USER="admin"
BINLOG_DIR="/var/log/mysql"
BINLOG_INDEX="/var/log/mysql/mysql-bin.index"

# State tracking
STATE_DIR="/var/lib/backup-state"
BINLOG_STATE_FILE="$STATE_DIR/processed-binlogs"

# Retention in days (matches SOC 2 requirements)
RETAIN_MYSQL_FULL=90
RETAIN_MYSQL_BINLOG=7
RETAIN_HOME_ARCHIVE=90
RETAIN_LOG_ARCHIVE=365

# Email settings for backup notifications
BACKUP_EMAIL_FROM="backup+${SERVER_NAME}@${EMAIL_DOMAIN}"