#!/bin/bash
# Backup Configuration - Simplified and Focused
# All backup-related paths and settings in one place

# Backup locations
BACKUP_BASE_DIR="/backups/mariadb"
BACKUP_LOG_DIR="/var/log/backups"

# Log files for each backup type
MARIADB_FULL_LOG="$BACKUP_LOG_DIR/mariadb-full.log"
MARIADB_BINLOG_LOG="$BACKUP_LOG_DIR/mariadb-binlog.log"
HOME_BACKUP_LOG="$BACKUP_LOG_DIR/home-backup.log"
LOG_ARCHIVE_LOG="$BACKUP_LOG_DIR/log-archive.log"

# MariaDB specific settings
MARIADB_BACKUP_USER="admin"
MARIADB_DEFAULTS_FILE="/root/.backup.cnf"

# Retention policies (in days)
LOCAL_RETAIN_DAYS=7          # Keep one week of local backups
S3_RETAIN_MARIADB_FULL=90    # 90 days for database backups
S3_RETAIN_MARIADB_BINLOG=7   # 7 days for transaction logs
S3_RETAIN_HOME=90            # 90 days for user data
S3_RETAIN_LOGS=365           # 1 year for compliance logs

# Email settings for backup notifications
BACKUP_EMAIL_FROM="backup+${SERVER_NAME}@${EMAIL_DOMAIN}"

# Encryption key location
BACKUP_ENCRYPTION_KEY="/root/.backup-encryption-key"